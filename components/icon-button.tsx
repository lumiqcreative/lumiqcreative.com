import { css } from '@emotion/react'
import { forwardRef } from 'react'
import { colors } from 'theme'

type Props = {
  className?: string
  iconName: 'copy' | 'get' | 'twitter' | 'github'
} & (
  | { as: 'a'; href: string; onClick?: () => void }
  | { as: 'button'; onClick: () => void; href?: string }
)

const IconButton = forwardRef<HTMLAnchorElement, Props>(
  (
    { as, className = '', href = '', iconName, onClick = () => null }: Props,
    ref
  ): JSX.Element => {
    const icon = (
      <svg viewBox='0 0 24 24' width='24' height='24'>
        {iconName === 'get' && (
          <path
            fillRule='evenodd'
            d='M12.75 3a.75.75 0 00-1.5 0v11.19l-3.22-3.22a.75.75 0 00-1.06 1.06l4.5 4.5a.75.75 0 001.06 0l4.5-4.5a.75.75 0 10-1.06-1.06l-3.22 3.22V3zM4.5 13h.006c-.006.413-.006.876-.006 1.4v1.1c0 1.4 0 2.1.272 2.635a2.5 2.5 0 001.093 1.092C6.4 19.5 7.1 19.5 8.5 19.5h7c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 001.092-1.092c.273-.535.273-1.235.273-2.635v-1.1c0-.524 0-.987-.006-1.4h.006a.75.75 0 011.5 0v1.6c0 2.24 0 3.36-.436 4.216a4 4 0 01-1.748 1.748C17.96 21 16.84 21 14.6 21H9.4c-2.24 0-3.36 0-4.216-.436a4 4 0 01-1.748-1.748C3 17.96 3 16.84 3 14.6V13a.75.75 0 011.5 0z'
            clipRule='evenodd'
          />
        )}
        {iconName === 'copy' && (
          <path
            fillRule='evenodd'
            d='M2.327 3.638C2 4.28 2 5.12 2 6.8v4.4c0 1.68 0 2.52.327 3.162a3 3 0 001.311 1.311c.522.266 1.175.316 2.305.325A.75.75 0 106 14.5h-.1c-.84 0-1.26 0-1.581-.164a1.5 1.5 0 01-.656-.655c-.163-.32-.163-.74-.163-1.581V5.9c0-.84 0-1.26.163-1.581a1.5 1.5 0 01.656-.656c.32-.163.74-.163 1.581-.163h6.2c.84 0 1.26 0 1.581.163a1.5 1.5 0 01.655.656c.164.32.164.74.164 1.581V6a.75.75 0 101.498-.057c-.01-1.13-.059-1.783-.325-2.305a3 3 0 00-1.311-1.311C13.72 2 12.88 2 11.2 2H6.8c-1.68 0-2.52 0-3.162.327a3 3 0 00-1.311 1.311zM8 11a3 3 0 013-3h8a3 3 0 013 3v8a3 3 0 01-3 3h-8a3 3 0 01-3-3v-8zm1.5 0A1.5 1.5 0 0111 9.5h8a1.5 1.5 0 011.5 1.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 019.5 19v-8z'
            clipRule='evenodd'
          />
        )}
        {iconName === 'github' && (
          <path
            fillRule='evenodd'
            d='M12 2C6.476 2 2 6.477 2 12c0 4.419 2.865 8.166 6.839 9.49.5.09.682-.218.682-.483 0-.237-.008-.867-.013-1.7-2.782.603-3.369-1.341-3.369-1.341-.454-1.155-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.071 1.531 1.03 1.531 1.03.892 1.528 2.341 1.087 2.91.832.092-.647.35-1.087.636-1.337-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.268 2.75 1.026A9.578 9.578 0 0112 6.836a9.592 9.592 0 012.504.337c1.909-1.294 2.747-1.026 2.747-1.026.546 1.377.202 2.394.1 2.647.64.7 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.567 4.935.36.309.68.919.68 1.852 0 1.336-.013 2.415-.013 2.743 0 .267.18.579.688.481C19.137 20.163 22 16.418 22 12c0-5.523-4.478-10-10-10z'
            clipRule='evenodd'
          />
        )}
        {iconName === 'twitter' && (
          <path d='M7.919 20.876c8.302 0 12.842-6.878 12.842-12.843 0-.195 0-.39-.013-.583A9.183 9.183 0 0023 5.114a9.01 9.01 0 01-2.593.71 4.529 4.529 0 001.985-2.497 9.045 9.045 0 01-2.866 1.096 4.518 4.518 0 00-7.692 4.116A12.814 12.814 0 012.53 3.824 4.517 4.517 0 003.93 9.849a4.48 4.48 0 01-2.049-.565v.057a4.515 4.515 0 003.621 4.425 4.505 4.505 0 01-2.038.077 4.519 4.519 0 004.217 3.135A9.056 9.056 0 011 18.848a12.778 12.778 0 006.919 2.025' />
        )}
      </svg>
    )

    const styles = css({
      alignItems: 'center',
      background: 'none',
      border: 'none',
      cursor: 'pointer',
      display: 'flex',
      height: 48,
      justifyContent: 'center',
      outline: 'none',
      fill: colors.accent,
      width: 48,
      transition: '0.2s ease stroke, transform 0.15s ease',
      '&:hover': {
        fill: colors.onSurface[0]
      },
      '&:active': {
        transform: 'scale(0.9)'
      }
    })

    if (as === 'a') {
      return (
        <a
          className={className}
          css={styles}
          href={href}
          onClick={onClick}
          ref={ref}
        >
          {icon}
        </a>
      )
    } else {
      return (
        <button className={className} css={styles} onClick={onClick}>
          {icon}
        </button>
      )
    }
  }
)

export default IconButton
